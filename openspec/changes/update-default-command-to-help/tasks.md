# 修改CMD模块默认命令为Help - 任务清单

## 任务列表

### 1. 代码实现修改
- [x] 修改 `internal/cmd/root.go` 中的默认命令逻辑（第78-90行）
- [x] 将默认执行从 `server` 改为 `help`
- [x] 更新相关注释和文档字符串

### 2. 规范文档更新
- [x] 修改 `openspec/specs/cmd/spec.md` 中的场景描述
- [x] 更新"默认启动HTTP服务器"场景描述
- [x] 确保规范与新实现一致

### 3. 测试用例更新
- [x] 更新 `internal/cmd/root_test.go` 中的测试用例
- [x] 修改默认行为的测试验证
- [x] 添加新的帮助显示测试
- [x] 确保所有现有测试仍然通过

### 4. 设计文档更新
- [x] 更新 `docs/design/cmd.md` 中的默认行为描述
- [x] 修改子命令结构说明
- [x] 确保设计文档与实现一致

### 5. 验证和测试
- [x] 验证无参数执行显示帮助信息
- [x] 验证 `exporter server` 仍然正常工作
- [x] 验证所有其他子命令功能
- [x] 运行完整测试套件确保无回归

### 6. 文档和发布准备
- [x] 准备变更说明文档
- [x] 更新README中的使用示例（如需要）
- [x] 准备发布说明

## 实施顺序

1. **代码实现** - 首先修改核心实现
2. **测试更新** - 同步更新测试用例
3. **规范更新** - 确保文档一致性
4. **设计文档** - 更新设计文档
5. **验证测试** - 全面测试验证
6. **文档完善** - 完善所有文档

## 验收标准

- [x] `exporter` 无参数执行时显示帮助信息
- [x] `exporter server` 正常启动HTTP服务器
- [x] 所有现有功能保持不变
- [x] 测试覆盖率不降低
- [x] 文档准确反映新行为
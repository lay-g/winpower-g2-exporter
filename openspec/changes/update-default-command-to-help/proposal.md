# 修改CMD模块默认命令为Help

## Why

当前的WinPower G2 Exporter命令行工具在用户无参数执行时默认启动HTTP服务器，这导致了以下问题：
1. 新用户体验不佳，不知道如何查看帮助信息
2. 不符合Unix工具的常见约定（通常无参数时显示帮助）
3. 可能导致意外的服务器启动行为

将默认行为改为显示帮助信息可以显著提升工具的易用性和用户友好性。

## 概述

本提案将WinPower G2 Exporter的CMD模块默认命令从`server`修改为`help`，以提升用户体验和工具的易用性。

## 背景

### 当前问题
- 当前默认执行`server`命令，新用户可能不知道如何查看帮助信息
- 用户需要明确知道输入`help`或`--help`才能查看所有可用命令
- 对于不熟悉的用户，默认启动服务器可能不是预期行为

### 改进目标
- 提升工具的易用性和用户友好性
- 符合Unix工具的常见约定（无参数时显示帮助）
- 减少新用户的使用门槛

## 设计方案

### 1. 修改默认行为
将根命令的默认行为从执行`server`改为执行`help`命令。

### 2. 保持向后兼容
- `exporter server` 仍然可以正常启动服务器
- 所有现有命令行参数和配置保持不变
- 不影响自动化脚本和部署流程

### 3. 用户体验改进
- 新用户运行 `exporter` 时直接看到帮助信息
- 清楚了解所有可用命令和用法
- 减少用户学习成本

## 实现计划

### 修改内容
1. 修改 `internal/cmd/root.go` 中的默认命令逻辑
2. 更新相关测试用例
3. 更新设计文档和规范

### 具体变更
- 将 `root.go` 第78-90行的默认 `server` 命令执行改为 `help` 命令
- 更新 `cmd` 规范中的相关场景描述
- 确保帮助命令能正确显示所有可用选项

## 风险评估

### 潜在影响
- **低风险**：主要是用户体验改进，不影响核心功能
- **兼容性**：现有脚本和部署配置不受影响
- **迁移**：用户习惯需要轻微调整，但符合常见工具约定

### 缓解措施
- 提供清晰的迁移指南
- 在发布说明中明确说明变更
- 确保文档更新及时

## 测试策略

### 功能测试
- 验证无参数执行时显示帮助信息
- 验证 `exporter server` 仍然正常工作
- 验证所有子命令功能不受影响

### 兼容性测试
- 测试现有部署脚本的兼容性
- 验证命令行参数解析正确性
- 确保帮助信息完整和准确

## 交付物

1. 修改后的根命令实现
2. 更新的测试用例
3. 更新的设计文档
4. 更新的规范文档
5. 迁移指南（如需要）

## 时间估算

- 实现修改：2小时
- 测试验证：1小时
- 文档更新：1小时
- **总计：4小时**